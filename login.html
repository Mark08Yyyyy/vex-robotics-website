<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VEX机器人社团 - 登录</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Custom Tailwind Config -->
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        'apple': ['-apple-system', 'BlinkMacSystemFont', 'SF Pro Display', 'Segoe UI', 'Roboto', 'sans-serif'],
                    },
                    colors: {
                        'apple-blue': '#007AFF',
                        'apple-gray': {
                            50: '#F9FAFB',
                            100: '#F3F4F6',
                            200: '#E5E7EB',
                            300: '#D1D5DB',
                            400: '#9CA3AF',
                            500: '#6B7280',
                            600: '#4B5563',
                            700: '#374151',
                            800: '#1F2937',
                            900: '#111827',
                        }
                    }
                }
            }
        }
    </script>
    
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .dark body {
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
        }
        
        .login-card {
            backdrop-filter: blur(20px);
            background: rgba(255, 255, 255, 0.95);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .dark .login-card {
            background: rgba(0, 0, 0, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .input-field {
            @apply w-full px-4 py-3 border border-apple-gray-300 dark:border-apple-gray-600 rounded-lg focus:ring-2 focus:ring-apple-blue focus:border-transparent bg-white/80 dark:bg-apple-gray-800/80 text-apple-gray-900 dark:text-white backdrop-blur-sm;
        }
        
        .btn-primary {
            @apply w-full bg-apple-blue text-white px-6 py-3 rounded-lg font-medium transition-all duration-300 hover:bg-blue-600 hover:scale-105 active:scale-95;
        }
        
        .role-card {
            @apply bg-white/80 dark:bg-apple-gray-800/80 backdrop-blur-sm rounded-xl p-6 border border-apple-gray-200/50 dark:border-apple-gray-700/50 cursor-pointer transition-all duration-300 hover:scale-105 hover:shadow-lg;
        }
        
        .role-card.selected {
            @apply ring-2 ring-apple-blue bg-apple-blue/10 dark:bg-apple-blue/20;
        }
        
        .floating-shapes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }
        
        .shape {
            position: absolute;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.1);
            animation: float 6s ease-in-out infinite;
        }
        
        .shape:nth-child(1) {
            width: 80px;
            height: 80px;
            top: 20%;
            left: 10%;
            animation-delay: 0s;
        }
        
        .shape:nth-child(2) {
            width: 120px;
            height: 120px;
            top: 60%;
            right: 10%;
            animation-delay: 2s;
        }
        
        .shape:nth-child(3) {
            width: 60px;
            height: 60px;
            bottom: 20%;
            left: 20%;
            animation-delay: 4s;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">
    <!-- Floating Background Shapes -->
    <div class="floating-shapes">
        <div class="shape"></div>
        <div class="shape"></div>
        <div class="shape"></div>
    </div>
    
    <!-- Theme Toggle -->
    <button id="theme-toggle" class="fixed top-4 right-4 p-3 rounded-full bg-white/20 dark:bg-black/20 backdrop-blur-sm hover:bg-white/30 dark:hover:bg-black/30 transition-all duration-300 z-10">
        <span id="theme-icon" class="text-xl">🌙</span>
    </button>
    
    <!-- Back to Home -->
    <a href="index.html" class="fixed top-4 left-4 p-3 rounded-full bg-white/20 dark:bg-black/20 backdrop-blur-sm hover:bg-white/30 dark:hover:bg-black/30 transition-all duration-300 z-10 text-white">
        <span class="text-xl">🏠</span>
    </a>
    
    <div class="w-full max-w-md">
        <!-- Login Form -->
        <div id="login-form" class="login-card rounded-2xl p-8 shadow-2xl">
            <div class="text-center mb-8">
                <div class="w-16 h-16 bg-apple-blue rounded-2xl flex items-center justify-center mx-auto mb-4">
                    <span class="text-white font-bold text-xl">VEX</span>
                </div>
                <h1 class="text-2xl font-bold text-apple-gray-900 dark:text-white mb-2">欢迎回来</h1>
                <p class="text-apple-gray-600 dark:text-apple-gray-300">请选择您的身份登录</p>
            </div>
            
            <!-- Role Selection -->
            <div class="space-y-4 mb-6">
                <div class="role-card" data-role="admin">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-red-100 dark:bg-red-900/30 rounded-lg flex items-center justify-center">
                            <span class="text-red-600 dark:text-red-400 text-lg">👑</span>
                        </div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-apple-gray-900 dark:text-white">管理员</h3>
                            <p class="text-sm text-apple-gray-600 dark:text-apple-gray-300">完全访问权限</p>
                        </div>
                    </div>
                </div>
                
                <div class="role-card" data-role="member">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-blue-100 dark:bg-blue-900/30 rounded-lg flex items-center justify-center">
                            <span class="text-blue-600 dark:text-blue-400 text-lg">👥</span>
                        </div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-apple-gray-900 dark:text-white">社团成员</h3>
                            <p class="text-sm text-apple-gray-600 dark:text-apple-gray-300">内容编辑权限</p>
                        </div>
                    </div>
                </div>
                
                <div class="role-card" data-role="guest">
                    <div class="flex items-center space-x-3">
                        <div class="w-10 h-10 bg-green-100 dark:bg-green-900/30 rounded-lg flex items-center justify-center">
                            <span class="text-green-600 dark:text-green-400 text-lg">👤</span>
                        </div>
                        <div class="flex-1">
                            <h3 class="font-semibold text-apple-gray-900 dark:text-white">访客</h3>
                            <p class="text-sm text-apple-gray-600 dark:text-apple-gray-300">浏览和留言权限</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <form class="space-y-4">
                <div>
                    <label class="block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-2">用户名或邮箱</label>
                    <input type="text" id="username" class="input-field" placeholder="请输入用户名或邮箱" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-2">密码</label>
                    <input type="password" id="password" class="input-field" placeholder="请输入密码" required>
                </div>
                
                <div class="flex items-center justify-between">
                    <label class="flex items-center">
                        <input type="checkbox" class="rounded border-apple-gray-300 text-apple-blue focus:ring-apple-blue">
                        <span class="ml-2 text-sm text-apple-gray-600 dark:text-apple-gray-300">记住我</span>
                    </label>
                    <a href="#" class="text-sm text-apple-blue hover:underline">忘记密码？</a>
                </div>
                
                <button type="submit" class="btn-primary">
                    登录
                </button>
            </form>
            
            <div class="mt-6 text-center">
                <p class="text-sm text-apple-gray-600 dark:text-apple-gray-300">
                    还没有账号？ 
                    <a href="#" class="text-apple-blue hover:underline" onclick="showRegisterForm()">立即注册</a>
                </p>
            </div>
        </div>
        
        <!-- Register Form -->
        <div id="register-form" class="login-card rounded-2xl p-8 shadow-2xl hidden">
            <div class="text-center mb-8">
                <div class="w-16 h-16 bg-apple-blue rounded-2xl flex items-center justify-center mx-auto mb-4">
                    <span class="text-white font-bold text-xl">VEX</span>
                </div>
                <h1 class="text-2xl font-bold text-apple-gray-900 dark:text-white mb-2">加入我们</h1>
                <p class="text-apple-gray-600 dark:text-apple-gray-300">创建您的账号</p>
            </div>
            
            <form class="space-y-4">
                <div class="grid grid-cols-2 gap-4">
                    <div>
                        <label class="block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-2">姓名</label>
                        <input type="text" class="input-field" placeholder="请输入姓名" required>
                    </div>
                    <div>
                        <label class="block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-2">学号</label>
                        <input type="text" class="input-field" placeholder="请输入学号" required>
                    </div>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-2">邮箱</label>
                    <input type="email" class="input-field" placeholder="请输入邮箱地址" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-2">手机号</label>
                    <input type="tel" class="input-field" placeholder="请输入手机号" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-2">密码</label>
                    <input type="password" class="input-field" placeholder="请输入密码" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-2">确认密码</label>
                    <input type="password" class="input-field" placeholder="请再次输入密码" required>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-2">申请角色</label>
                    <select class="input-field" required>
                        <option value="">请选择申请角色</option>
                        <option value="member">社团成员</option>
                        <option value="guest">访客</option>
                    </select>
                </div>
                
                <div>
                    <label class="block text-sm font-medium text-apple-gray-700 dark:text-apple-gray-300 mb-2">自我介绍</label>
                    <textarea class="input-field" rows="3" placeholder="请简单介绍一下自己和加入社团的原因"></textarea>
                </div>
                
                <div class="flex items-center">
                    <input type="checkbox" class="rounded border-apple-gray-300 text-apple-blue focus:ring-apple-blue" required>
                    <span class="ml-2 text-sm text-apple-gray-600 dark:text-apple-gray-300">
                        我同意 <a href="#" class="text-apple-blue hover:underline">用户协议</a> 和 <a href="#" class="text-apple-blue hover:underline">隐私政策</a>
                    </span>
                </div>
                
                <button type="submit" class="btn-primary">
                    提交申请
                </button>
            </form>
            
            <div class="mt-6 text-center">
                <p class="text-sm text-apple-gray-600 dark:text-apple-gray-300">
                    已有账号？ 
                    <a href="#" class="text-apple-blue hover:underline" onclick="showLoginForm()">立即登录</a>
                </p>
            </div>
        </div>
    </div>
    
    <script>
        // Theme Toggle
        const themeToggle = document.getElementById('theme-toggle');
        const themeIcon = document.getElementById('theme-icon');
        const html = document.documentElement;
        
        const currentTheme = localStorage.getItem('theme') || 'light';
        html.classList.toggle('dark', currentTheme === 'dark');
        themeIcon.textContent = currentTheme === 'dark' ? '☀️' : '🌙';
        
        themeToggle.addEventListener('click', () => {
            const isDark = html.classList.contains('dark');
            html.classList.toggle('dark', !isDark);
            const newTheme = !isDark ? 'dark' : 'light';
            localStorage.setItem('theme', newTheme);
            themeIcon.textContent = newTheme === 'dark' ? '☀️' : '🌙';
        });
        
        // Role Selection
        let selectedRole = null;
        
        document.querySelectorAll('.role-card').forEach(card => {
            card.addEventListener('click', () => {
                // Remove selected class from all cards
                document.querySelectorAll('.role-card').forEach(c => c.classList.remove('selected'));
                
                // Add selected class to clicked card
                card.classList.add('selected');
                selectedRole = card.getAttribute('data-role');
            });
        });
        
        // Form Switching
        function showRegisterForm() {
            document.getElementById('login-form').classList.add('hidden');
            document.getElementById('register-form').classList.remove('hidden');
        }
        
        function showLoginForm() {
            document.getElementById('register-form').classList.add('hidden');
            document.getElementById('login-form').classList.remove('hidden');
        }
        
        // Demo Login Credentials
        const demoCredentials = {
            admin: { username: 'admin', password: 'admin123' },
            member: { username: 'member', password: 'member123' },
            guest: { username: 'guest', password: 'guest123' }
        };
        
        // Login Form Handler
        document.getElementById('login-form').querySelector('form').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const username = document.getElementById('username').value;
            const password = document.getElementById('password').value;
            
            if (!selectedRole) {
                alert('请选择您的身份角色！');
                return;
            }
            
            // Demo authentication
            const credentials = demoCredentials[selectedRole];
            if (username === credentials.username && password === credentials.password) {
                // Store user session
                localStorage.setItem('userRole', selectedRole);
                localStorage.setItem('username', username);
                localStorage.setItem('isLoggedIn', 'true');
                
                // Redirect based on role
                if (selectedRole === 'admin' || selectedRole === 'member') {
                    window.location.href = 'admin.html';
                } else {
                    window.location.href = 'index.html';
                }
            } else {
                alert('用户名或密码错误！\n\n演示账号：\n管理员: admin / admin123\n成员: member / member123\n访客: guest / guest123');
            }
        });
        
        // Register Form Handler
        document.getElementById('register-form').querySelector('form').addEventListener('submit', (e) => {
            e.preventDefault();
            alert('注册申请已提交！管理员将在24小时内审核您的申请。');
            showLoginForm();
        });
        
        // Auto-fill demo credentials when role is selected
        document.querySelectorAll('.role-card').forEach(card => {
            card.addEventListener('click', () => {
                const role = card.getAttribute('data-role');
                const credentials = demoCredentials[role];
                
                document.getElementById('username').value = credentials.username;
                document.getElementById('password').value = credentials.password;
            });
        });
        
        // Check if user is already logged in
        if (localStorage.getItem('isLoggedIn') === 'true') {
            const userRole = localStorage.getItem('userRole');
            if (userRole === 'admin' || userRole === 'member') {
                window.location.href = 'admin.html';
            }
        }
    </script>
</body>
</html>